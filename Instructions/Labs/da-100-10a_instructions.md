

### ラボ 10A

Power BI ダッシュボードの作成

# 概要

**ラボを完了するための所要時間は 45 分です**

このラボでは、**営業監視**ダッシュボードを作成します。 

このラボでは、次の方法を学習します。

* ダッシュボードにビジュアルをピン留めする

* Q&A を使用してダッシュボード タイルを作成する

* ダッシュボード タイル アラートを構成する

# 演習 1: ダッシュボードの作成

この演習では、**営業監視**ダッシュボードを作成します。  完成したダッシュボードは次のようになります。  

![画像 8](Linked_image_Files/PowerBI_Lab10A_image1.png)

### タスク 1: ダッシュボードを作成する

このタスクでは、**販売監視**ダッシュボードを作成します。

1. Microsoft Edge の Power BI サービスで、「**売上レポート**」 レポートを開きます。

2. ダッシュボードを作成してロゴ画像を固定するには、Adventure Works のロゴの上にカーソルを置きます。

3. 右上隅にあるプッシュピンをクリックします。

	![画像 2](Linked_image_Files/PowerBI_Lab10A_image2.png)

4. 「**ダッシュボードにピン留め**」 ウィンドウの 「**ダッシュボード名**」 ボックスに、「**営業監視**」と入力します。     

	![画像 3](Linked_image_Files/PowerBI_Lab10A_image3.png)

5. 「**ピン留め**」 をクリックします。 

	![画像 1](Linked_image_Files/PowerBI_Lab10A_image4.png)

6. **年**スライサーを **FY2020** に設定します。 

	![画像 4](Linked_image_Files/PowerBI_Lab10A_image5.png)

7. 「**リージョン**」 スライサーを 「**すべて選択**」 に設定します。   

	*ビジュアルをダッシュボードにピン留めする場合、現在のフィルター コンテキストが使用されます。一度ピン留めすると、フィルター コンテキストを変更することはできません。時間ベースのフィルターの場合は、相対日付スライサー (または、相対時間ベースの質問を使用して Q&A) を使用することをお勧めします*。

8. **月別売上と利益率** (列/行) ビジュアルを 「**販売の監視**」 ダッシュボードにピン留めします。

9. 「**ナビゲーション**」 ウィンドウを開き、 **営業の監視**ダッシュ ボードを開きます。 

	![画像 5](Linked_image_Files/PowerBI_Lab10A_image6.png)

10. ダッシュボードには 2 つのタイルがあることに注意してください。

	![画像 6](Linked_image_Files/PowerBI_Lab10A_image7.png)

11. ロゴ タイルのサイズを変更するには、右下隅をドラッグし、タイルのサイズを 1 単位幅、高さ 2 単位に変更します。

	*タイル サイズは、長方形の図形に制限されます。長方形の倍数にサイズ変更することしかできません*。

12. 質問に基づいてタイルを追加するには、ダッシュボードの左上にある 「**データに関する質問をする**」 をクリックします。 

	![画像 7](Linked_image_Files/PowerBI_Lab10A_image8.png)

13. Q&A 機能を使用して質問をすると、Power BI はビジュアルに返信します。

14. 灰色のボックスの Q&A ボックスの下にある、おすすめの質問のいずれかをクリックします。

15. 応答を確認します。

16. Q&A  ボックスからすべてのテキストを削除します。

17. Q&A ボックスに、次のように入力します。**現時点年間累計販売**

	![画像 11](Linked_image_Files/PowerBI_Lab10A_image9.png)

18. **(空白)** の応答に注意してください。 

	![画像 14](Linked_image_Files/PowerBI_Lab10A_image10.png)

	***ラボ 06B** で **販売 YTD** メジャーを追加したことを思い出してください。    このメジャーはタイム インテリジェンス式であり、 結果を生成するには **Date** テーブルにフィルターが必要です。*

19. **2020 年度**に質問を拡張してください。

	![画像 12](Linked_image_Files/PowerBI_Lab10A_image11.png)

20. 応答が**3,300 万ドル**になったことに注意してください。

	![画像 13](Linked_image_Files/PowerBI_Lab10A_image12.png)

21. 応答をダッシュボードに固定するには、右上隅の 「**ビジュアルをピン留めする**」 をクリックします。 

	![画像 15](Linked_image_Files/PowerBI_Lab10A_image13.png)

22. タイルをダッシュボードにピン留めするかどうかを確認するメッセージが表示されたら、「**ピン留め**」 をクリックします。 

	![画像 17](Linked_image_Files/PowerBI_Lab10A_image14.png)

	*新しいダッシュボードにピン留めするだけのバグが考えられます。Power BI セッションが 「マイ ワークスペース」 に戻ったためです。この場合は、新しいダッシュボードにピン留めしないでください。 **売上分析**ワークスペースに戻り 、ダッシュボードを再度開いて、Q&A 質問を再作成します*。

23. ダッシュボードに戻るには、左上隅にある 「**Q&amp;A を終了する**」 をクリックします。

	![画像 16](Linked_image_Files/PowerBI_Lab10A_image15.png)

### タスク 2: タイルの詳細を編集する

このタスクでは、2 つのタイルの詳細を編集します。

1. カーソルを 「**Sales YTD**」 タイルの上に置いてから、タイルの右上にある省略記号をクリックして、「**詳細の編集**」 を選択します。   

	![画像 18](Linked_image_Files/PowerBI_Lab10A_image16.png)

2. 「**タイルの詳細**」 ウィンドウ (右側) の 「**サブタイトル**」 ボックスに「**FY2020**」と入力します。     

	![画像 19](Linked_image_Files/PowerBI_Lab10A_image17.png)

3. ペインの下部で、「**適用**」 をクリックします。

	![画像 20](Linked_image_Files/PowerBI_Lab10A_image18.png)

4. **売上 YTD** タイルにサブタイトルが表示されることに注意してください。

	![画像 21](Linked_image_Files/PowerBI_Lab10A_image19.png)

5. **売上、利益率**タイルの、タイルの詳細を編集します。 

6. 「**タイルの詳細**」 ウィンドウの 「**機能**」 セクションで、「**前回の更新時刻を表示する**」 をオンにします。

	![画像 22](Linked_image_Files/PowerBI_Lab10A_image20.png)

7. 「**適用**」 をクリックします。

	![画像 23](Linked_image_Files/PowerBI_Lab10A_image21.png)

8. タイルは、最後の更新時間 (Power BI Desktop でデータ モデルを更新するときに行った) を示しています。

このラボの後半で、データ更新をシミュレートし、更新時刻が更新されることを確認します。

### タスク 3: アラートを構成する

このタスクでは、データ アラートを構成します。

1. 「**売上YTD**」 タイルにカーソルを合わせ 、省略記号をクリックして、「**アラートの管理**」 を選択します。

	![画像 24](Linked_image_Files/PowerBI_Lab10A_image22.png)

2. 「**アラートの管理**」 ウィンドウ (右側) で、「**アラート ルールの追加**」 をクリックします。   

	![画像 25](Linked_image_Files/PowerBI_Lab10A_image23.png)

3. 「**しきい値**」 ボックスで、値を **35000000** (3,500 万) に置き換えます。 

	![画像 26](Linked_image_Files/PowerBI_Lab10A_image24.png)

	*この構成により、タイルが 3,500 万を超える値に更新されるたびに通知が送信されます*。

4. ウィンドウの下部にある 「**保存して閉じる**」 をクリックします。

	![画像 27](Linked_image_Files/PowerBI_Lab10A_image25.png)

	*次の演習では、データセットを更新します。通常、この処理はスケジュールされた更新を使用して行う必要があり、Power BI はゲートウェイを使用して SQL サーバー データベースに接続できます。ただし、教室での構成には制約があるため、ゲートウェイはありません。Power BI Desktop を開き、手動でデータ更新を実行し、ファイルをアップロードします*。

# 演習 2: データセットの更新

この演習では、最初に 2020 年 6 月の受注データを **AdventureWorksDW2020** データベースに読み込み、次に教室のパートナーのアカウントをデータベースに追加します。  次に、Power BI Desktop ファイルを開き、データ更新を実行し、そのファイルを 「**販売分析**」 ワークスペースにアップロードします。 

### タスク 1: ラボ データベースを更新する

このタスクでは、PowerShell スクリプトを実行して、**AdventureWorksDW2020** データベースのデータを更新します。

1. 「ファイル エクスプローラー」 の **D:\DA100\Setup** フォルダー内で、**UpdateDatabase-2-AddSales.ps1** ファイルを右クリックし、「**PowerShell で実行**」 を選択します。     

	![画像 28](Linked_image_Files/PowerBI_Lab10A_image26.png)

	37.キーを押して続行するように求められたら、**Enter** をもう一度押します。 

	***AdventureWorksDW2020** データベースには、2020 年 6 月の販売注文が含まれています*。  

2. **D:\DA100\Setup** フォルダー内で、 **UpdateDatabase-3-AddPartnerAccount.ps1** ファイルを右クリックし、「**PowerShell で実行**」 を選択します。

3. ダイアログ ボックスが表示されたら、教室のパートナーのアカウント名を入力し、**Enter** キーを押します。 

	*アカウント名 (@ の記号の前のすべての文字) を入力するだけです。近くに座っている人を探してペアを組んでください。いっしょに作業して、Power BI コンテンツの共有をカバーする**ラボ 12A** を完了します。*

	*行レベルのセキュリティをテストできるように、アカウント名が追加されます。あなたのパートナーはパメラ アンサム ウルフで、彼女の販売のパフォーマンスは 2 つの販売地域での売り上げで測定されます。米国北西部および米国南西部*.

### タスク 2: Power BI Desktop ファイルを更新する

このタスクでは、営業分析 Power BI Desktop ファイルを開き、データの更新を実行し、そのファイルを **営業分析**ワークスペースにアップロードします。

1. **D:\DA100\MySolution** フォルダーに保存されている **営業分析** Power BI Desktop ファイルを開きます。

	***ラボ 06B** でファイルを発行した時、ラボを正常に完了した自信がない場合は、代わりにソリューション ファイルをアップロードするよう勧められました。ソリューション ファイルをアップロードした場合は、ここでソリューション ファイルをもう一度開いてください。ファイルは **D:\DA100\Lab06B\Solution** フォルダーにあります*。

2. 「**ホーム**」 リボンの 「**クエリ**」 グループから、「**更新**」 をクリックします。

	![画像 30](Linked_image_Files/PowerBI_Lab10A_image27.png)

3. 更新が完了したら、Power BI Desktop ファイルを保存します。

4. ファイルを 「**販売分析**」 ワークスペースに発行します。

5. データセットを置き換えるメッセージが表示されたら、「**置換**」 をクリックします。 

	![画像 31](Linked_image_Files/PowerBI_Lab10A_image28.png)

	*Power BI サービスのデータセットには、2020 年 6 月の売上データが含まれるようになりました*。

6. Power BI Desktop を閉じます。

7. Microsoft Edge の Power BI サービスの 「**売上分析**」 ワークスペースで、**売上分析**レポートも公開されていることがわかります。

	このレポートは、**ラボ 05A** および **ラボ 06A** で開発したモデルをテストするために使用したものです。

8. **売上分析**レポート (データセットではありません) を削除します。

# 演習 3: ダッシュボードの確認

この演習では、ダッシュボードを確認して、更新された売上を確認し、アラートがトリガーされたことを確認します。

### タスク 1: ダッシュボードの確認

このタスクでは、ダッシュボードを確認して、更新された売上を確認し、アラートがトリガーされたことを確認します。

1. Microsoft Edge の Power BI サービスで、「**販売監視**」 ダッシュボードを開きます。

2. 「**売上、利益幅**」 タイルのサブタイトルで、データが  「**今**」 更新されたことを確認します。

3. また 「**2020 年 6 月**」 の列が表示されていることにも注意してください。

	![画像 33](Linked_image_Files/PowerBI_Lab10A_image29.png)

	*「**売上 YTD**」 タイルのアラートもトリガーされているはずです。しばらくすると、設定したしきい値を売上が超えたことをアラートで通知されます*。

4. **売上 YTD** タイルが **$37M** に更新されたことを確認します。

5. 「**売上 YTD**」 タイルにアラート通知アイコンが表示されていることを確認します。

	*通知が表示されない場合は、**F5** キーを押してブラウザーをリロードしてください。それでも通知が表示されない場合は、しばらく待ちます*。

	![画像 35](Linked_image_Files/PowerBI_Lab10A_image30.png)

	*アラート通知はダッシュボード タイルに表示され、電子メールで配信したり、Apple Watch8 などのモバイル アプリにプッシュ通知を送信したりできます。*
